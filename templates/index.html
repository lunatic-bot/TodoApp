{% extends "base.html" %}

{% block title %}Todo List{% endblock %}

{% block content %}
<h1 class="mb-4">Todo List</h1>
<div class="row">
    <div class="col-md-8">
        {% for todo in todos %}
        <div class="card mb-3">
            <div class="card-header {{ 'bg-success text-white' if todo.completed else 'bg-primary text-white' }}">
                <h5 class="card-title mb-0">{{ todo.title }}</h5>
            </div>
            <div class="card-body">
                <p class="card-text">{{ todo.description }}</p>
                <p><strong>Created at:</strong> {{ todo.creation_time }}</p>
                <p><strong>Completed:</strong> {{ 'Yes' if todo.completed else 'No' }}</p>
                {% if todo.completed %}
                <p><strong>Completed at:</strong> {{ todo.completion_time }}</p>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    <div class="col-md-4">
        <h2>Add New Todo</h2>
        <form action="/add-todo" method="post">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary mt-2">Add Todo</button>
        </form>
    </div>
</div>
{% endblock %}

